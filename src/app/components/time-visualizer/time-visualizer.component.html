<div class="time-visualizer-container">
  <div class="controls-panel">
    <div class="control-group">
      <label for="visualizer-select">Visualizador:</label>
      <select 
        id="visualizer-select" 
        [(ngModel)]="selectedVisualizer"
        class="custom-select">
        <option *ngFor="let viz of visualizers" [value]="viz.value">
          {{ viz.label }}
        </option>
      </select>
      <div class="visualizer-description">
        {{ getVisualizerDescription(selectedVisualizer) }}
      </div>
    </div>

    <div class="control-group">
      <div class="range-controls-header">
        <label for="time-slider">Ajuste de Tiempo: {{ getFormattedOffset() }}</label>
        <div class="range-info">Rango: {{ getRangeDisplay() }}</div>
      </div>
      
      <input 
        type="range" 
        id="time-slider" 
        [min]="-getMaxOffset()" 
        [max]="getMaxOffset()" 
        [(ngModel)]="timeOffset"
        (input)="onTimeOffsetChange($event)"
        class="time-slider">
      
      <div class="slider-controls">
        <div class="slider-labels">
          <span>{{ getSliderLabels().min }}</span>
          <span>0</span>
          <span>{{ getSliderLabels().max }}</span>
        </div>
        <button 
          type="button" 
          (click)="toggleTimeRange()"
          class="range-toggle-btn">
          {{ getRangeButtonLabel() }}
        </button>
      </div>
    </div>

    <div class="current-time-display">
      <div class="time-label">Hora Actual</div>
      <div class="time-value">{{ getFormattedTime() }}</div>
    </div>
  </div>

  <div class="visualizer-area">
    
    <!-- Renderizar el componente dinÃ¡micamente -->
    <ng-container [ngSwitch]="selectedVisualizer">
      <app-analog-clock 
        *ngSwitchCase="'analog'">
      </app-analog-clock>

      <app-binary-clock 
        *ngSwitchCase="'binary'"
        [currentTime]="currentTime">
      </app-binary-clock>

      <app-bars-clock 
        *ngSwitchCase="'bars'"
        [currentTime]="currentTime">
      </app-bars-clock>

      <app-orbital-clock 
        *ngSwitchCase="'orbital'"
        [currentTime]="currentTime">
      </app-orbital-clock>

      <app-sand-clock 
        *ngSwitchCase="'sand'"
        [currentTime]="currentTime">
      </app-sand-clock>

      <app-digital-clock 
        *ngSwitchCase="'digital'"
        [currentTime]="currentTime">
      </app-digital-clock>

      <app-building-clock 
        *ngSwitchCase="'building'"
        [currentTime]="currentTime">
      </app-building-clock>

      <app-oscilloscope-clock 
        *ngSwitchCase="'oscilloscope'"
        [currentTime]="currentTime">
      </app-oscilloscope-clock>

      <app-solar-clock 
        *ngSwitchCase="'solar'"
        [currentTime]="currentTime">
      </app-solar-clock>

      <app-cube-clock 
        *ngSwitchCase="'cube'"
        [currentTime]="currentTime">
      </app-cube-clock>

    </ng-container>
  </div>
</div>